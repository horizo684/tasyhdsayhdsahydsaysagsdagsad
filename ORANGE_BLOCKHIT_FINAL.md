# üéØ –ü–†–ê–í–ò–õ–¨–ù–´–ô Orange's Blockhit - –§–∏–Ω–∞–ª—å–Ω–æ–µ –†–µ—à–µ–Ω–∏–µ

## üí° –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –∏–∑ Orange –º–æ–¥–∞

–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ **Orange's 1.7 Animations Mod v6.7** —è –Ω–∞–∫–æ–Ω–µ—Ü –ø–æ–Ω—è–ª –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –æ–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç blockhit!

## ‚ùå –ß—Ç–æ –±—ã–ª–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–æ –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö

### –í–µ—Ä—Å–∏—è 1-3: –ü–∞—Ç—á transformFirstPersonItem —á–µ—Ä–µ–∑ ASM
```java
// –ú—ã –ø—ã—Ç–∞–ª–∏—Å—å –ø–∞—Ç—á–∏—Ç—å ItemRenderer.transformFirstPersonItem
AmethystTransformer patches transformFirstPersonItem()
AnimationTransformHandler.getCorrectSwingProgress()
```

**–ü—Ä–æ–±–ª–µ–º–∞:** Orange –º–æ–¥ –≤–æ–æ–±—â–µ –ù–ï –ø–∞—Ç—á–∏—Ç `transformFirstPersonItem`!

## ‚úÖ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Orange's 1.7 Animations

### –ü–æ–¥—Ö–æ–¥ Orange:
```
RenderHandEvent (Forge) 
    ‚Üì
onRenderHand() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
    ‚Üì
attemptSwing() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è blockhit
    ‚Üì
swingItem() –∑–∞–ø—É—Å–∫–∞–µ—Ç player.isSwingInProgress = true
    ‚Üì
Vanilla ItemRenderer –≤–∏–¥–∏—Ç isSwingInProgress = true
    ‚Üì
–ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å–≤–∏–Ω–≥-–∞–Ω–∏–º–∞—Ü–∏—é –î–ê–ñ–ï –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ!
```

### –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è:

1. **–ù–ï –ø–∞—Ç—á–∏—Ç ItemRenderer** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Forge —Å–æ–±—ã—Ç–∏—è
2. **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç RenderHandEvent** - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–æ–º —Ä—É–∫–∏
3. **–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–≤–∏–Ω–≥** - `player.isSwingInProgress = true`
4. **Vanilla –¥–µ–ª–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–µ** - ItemRenderer —Å–∞–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏

## üìù –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### OrangeBlockhitHandler.java

```java
@SubscribeEvent
public void onRenderHand(RenderHandEvent event) {
    attemptSwing(); // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Å–≤–∏–Ω–≥
}

private void attemptSwing() {
    // –ü—Ä–æ–≤–µ—Ä–∫–∏:
    // 1. –ú–æ–¥—É–ª—å –≤–∫–ª—é—á–µ–Ω?
    // 2. –ò–≥—Ä–æ–∫ –¥–µ—Ä–∂–∏—Ç –ø—Ä–µ–¥–º–µ—Ç?
    // 3. –ò–≥—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ–¥–º–µ—Ç (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è)?
    // 4. –õ–ö–ú + –ü–ö–ú –Ω–∞–∂–∞—Ç—ã?
    // 5. –°–º–æ—Ç—Ä–∏—Ç –Ω–∞ –±–ª–æ–∫?
    
    if (–≤—Å–µ_–ø—Ä–æ–≤–µ—Ä–∫–∏_–ø—Ä–æ–π–¥–µ–Ω—ã) {
        swingItem(player);
    }
}

private void swingItem(EntityPlayerSP player) {
    // –í—ã—á–∏—Å–ª—è–µ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å —É—á–µ—Ç–æ–º –∑–µ–ª–∏–π
    int swingAnimationEnd = 6; // –±–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–≤–∏–Ω–≥ –µ—Å–ª–∏:
    // - –°–≤–∏–Ω–≥ –Ω–µ –∏–¥–µ—Ç
    // - –ò–õ–ò —Å–≤–∏–Ω–≥ —É–∂–µ > –ø–æ–ª–æ–≤–∏–Ω—ã
    // - –ò–õ–ò —Å–≤–∏–Ω–≥ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
    if (!player.isSwingInProgress || 
        player.swingProgressInt >= swingAnimationEnd / 2 || 
        player.swingProgressInt < 0) {
        
        player.swingProgressInt = -1;
        player.isSwingInProgress = true;
    }
}
```

## üîë –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ –≤ vanilla 1.8:
```java
// ItemRenderer.renderItemInFirstPerson()
if (player.isBlocking()) {
    // –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç player.swingItem()
    // swingProgress –æ—Å—Ç–∞–µ—Ç—Å—è 0
}
```

### Orange —Ä–µ—à–µ–Ω–∏–µ:
```java
// RenderHandEvent –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –î–û ItemRenderer
onRenderHand() {
    if (blockhit_conditions) {
        player.isSwingInProgress = true; // –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û!
    }
}

// –ö–æ–≥–¥–∞ ItemRenderer —Ä–µ–Ω–¥–µ—Ä–∏—Ç:
// player.isSwingInProgress = true
// swingProgress > 0
// –ê–Ω–∏–º–∞—Ü–∏—è –†–ê–ë–û–¢–ê–ï–¢ –¥–∞–∂–µ –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ!
```

## üéÆ –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç

```
1. –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç –õ–ö–ú (—É–¥–∞—Ä)
   ‚Üí player.isSwingInProgress = true
   ‚Üí swingProgress —Ä–∞—Å—Ç–µ—Ç: 0.0 ‚Üí 0.5 ‚Üí 1.0
   
2. –í–æ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ (swingProgress = 0.5) –Ω–∞–∂–∏–º–∞–µ—Ç –ü–ö–ú (–±–ª–æ–∫)
   
Vanilla 1.8:
   ‚Üí –°–≤–∏–Ω–≥ –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
   ‚Üí swingProgress = 0 ‚Üí –∞–Ω–∏–º–∞—Ü–∏—è –û–ë–†–´–í–ê–ï–¢–°–Ø
   
Orange mod:
   ‚Üí onRenderHand() –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–≤–∏–Ω–≥
   ‚Üí player.isSwingInProgress = true
   ‚Üí swingProgress –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞—Å—Ç–∏: 0.5 ‚Üí 0.6 ‚Üí ... ‚Üí 1.0
   ‚Üí –ê–Ω–∏–º–∞—Ü–∏—è –ü–†–û–î–û–õ–ñ–ê–ï–¢–°–Ø!
```

## üì¶ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### 1. –°–æ–∑–¥–∞–Ω OrangeBlockhitHandler.java
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `@SubscribeEvent` –¥–ª—è `RenderHandEvent`
- –ú–µ—Ç–æ–¥ `onRenderHand()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
- `attemptSwing()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è blockhit
- `swingItem()` –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–≤–∏–Ω–≥

### 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ AmethystClient.java
```java
MinecraftForge.EVENT_BUS.register(new OrangeBlockhitHandler());
```

### 3. ASM —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä –±–æ–ª—å—à–µ –ù–ï –ù–£–ñ–ï–ù
Orange –º–æ–¥ –ù–ï –ø–∞—Ç—á–∏—Ç ItemRenderer - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è!

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Orange –ø–æ–¥—Ö–æ–¥–∞

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–µ –Ω—É–∂–µ–Ω —Å–ª–æ–∂–Ω—ã–π ASM –ø–∞—Ç—á
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Forge API
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥–∞–º–∏
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - RenderHandEvent –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π
5. **–¢–æ—á–Ω–æ—Å—Ç—å** - –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π Orange mod

## üîç –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ

–ò–∑ –∞–Ω–∞–ª–∏–∑–∞ `BlockhitAnimation.class`:
```
–ú–µ—Ç–æ–¥: onRenderFirstHand(RenderHandEvent)
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è: @SubscribeEvent
–í—ã–∑—ã–≤–∞–µ—Ç: attemptSwing()
–í—ã–∑—ã–≤–∞–µ—Ç: swingItem()
```

–≠—Ç–æ –¢–û–ß–ù–ê–Ø —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Orange's 1.7 Animations Mod!

## üéâ –ò—Ç–æ–≥

**–í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏** –ø—ã—Ç–∞–ª–∏—Å—å –ø–∞—Ç—á–∏—Ç—å ItemRenderer —á–µ—Ä–µ–∑ ASM
**Orange –ø–æ–¥—Ö–æ–¥** –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–≤–∏–Ω–≥ —á–µ—Ä–µ–∑ RenderHandEvent

–≠—Ç–æ –ù–ê–ú–ù–û–ì–û –ø—Ä–æ—â–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ!

---

**–í–µ—Ä—Å–∏—è:** ORANGE FINAL  
**–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞:** Orange's 1.7 Animations Mod v6.7 (–¥–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è)  
**–ê–≤—Ç–æ—Ä –º–æ–¥–∞:** OrangeMarshall
